{% extends 'apostrophe-templates:layout.html' %}
{% import 'macros/blogMacros.html' as blog %}
{% block bodyClass %} demo-blog-index-page{% endblock %}
{% block headerMessage %}You are on the "Blog Index" template of the Apostrophe demo site.{% endblock %}
{% block upperClass %}bg-gold{% endblock %}
{% block title %}Quodl | {{ data.page.title | e }}{% endblock %}

{% import 'apostrophe-pager:macros.html' as pager %}

{% block main %}
<section class="bg-blue white pv4">
  <div class="w-80 center">
    <h1 class="tc f2">
      {{ apos.singleton(data.page, 'pageHeader', 'apostrophe-rich-text') }}
    </h1>
    <h2 class="tc fw1">
      {{ apos.singleton(data.page, 'pageSubheader', 'apostrophe-rich-text') }}
    </h2>

    <!-- {{
      apos.area(data.page, 'navigation', {
        widgets: {
          link: {},
          'page-link': {}
        }
      })
    }} -->
    <div class="br-pill ba b--light-blue w4 tc pa1 mh2 dib">
      <a class="white no-underline" href="/news">All Articles</a>
    </div>
    <div class="br-pill ba b--light-blue w4 tc pa1 mh2 dib">
      <a class="white no-underline" href="/news/lecturers">For Lecturers</a>
    </div>
    <div class="br-pill ba b--light-blue w4 tc pa1 mh2 dib">
      <a class="white no-underline" href="/news/students">For Students</a>
    </div>

    <div class="w-90 black center mt4">
      {# {% if data.page._edit %}
        <div data-new-blog-post>
          <div class="">
            <a class="" href="#"><i class="icon-plus"></i> New Blog Post</a>
          </div>
        </div>
      {% endif %} #}
      <div class="">
        {{ blog.renderBlogListings(data.pieces) }}
      <div class="tc">
        {{ pager.render({ page: data.currentPage, total: data.totalPages }, '#') }}
      </div>
    </div>
  </div>
</section>

{% endblock %}
